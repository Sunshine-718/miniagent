# miniagent

[![Python Version](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/) [![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE) [![DeepSeek](https://img.shields.io/badge/API-DeepSeek-0d6efd)](https://platform.deepseek.com/)

ä¸€ä¸ªè½»é‡çº§ã€åŠŸèƒ½å¼ºå¤§çš„ReActï¼ˆReasoning + Actingï¼‰AIä»£ç†ç³»ç»Ÿï¼Œå…·æœ‰ä¸°å¯Œçš„å·¥å…·é›†å’Œç°ä»£åŒ–çš„æ§åˆ¶å°ç•Œé¢ã€‚

> **miniagent** - å°è€Œå¼ºå¤§çš„AIä»£ç†ï¼Œè®©å¤æ‚ä»»åŠ¡å˜å¾—ç®€å•

---
## âœ¨ ç‰¹æ€§

- ğŸ—ï¸ **è½»é‡çº§è®¾è®¡**ï¼šæ ¸å¿ƒä»£ç ç²¾ç®€ï¼Œä¾èµ–å°‘ï¼Œå¯åŠ¨å¿«é€Ÿ
- ğŸ¤– **ReActæ¡†æ¶**ï¼šåŸºäºæ¨ç†-è¡ŒåŠ¨å¾ªç¯çš„æ™ºèƒ½ä»£ç†æ¶æ„
- ğŸ› ï¸ **ä¸°å¯Œå·¥å…·é›†**ï¼š20+å†…ç½®å·¥å…·ï¼Œæ¶µç›–æ–‡ä»¶æ“ä½œã€ç½‘ç»œè¯·æ±‚ã€ç³»ç»Ÿç®¡ç†ç­‰
- ğŸ’¬ **æµå¼å“åº”**ï¼šå®æ—¶æ˜¾ç¤ºAIæ€è€ƒè¿‡ç¨‹å’Œå·¥å…·è°ƒç”¨
- ğŸ¨ **ç¾è§‚ç•Œé¢**ï¼šä½¿ç”¨Richåº“æ„å»ºçš„ç°ä»£åŒ–æ§åˆ¶å°ç•Œé¢
- ğŸ”§ **çƒ­é‡è½½**ï¼šæ”¯æŒå·¥å…·åº“åŠ¨æ€é‡è½½ï¼Œæ— éœ€é‡å¯
- ğŸ“š **å†å²ç®¡ç†**ï¼šæ™ºèƒ½å†å²è®°å½•å‹ç¼©å’ŒæŒä¹…åŒ–å­˜å‚¨
- âš™ï¸ **é…ç½®çµæ´»**ï¼šç¯å¢ƒå˜é‡é©±åŠ¨çš„é…ç½®ç³»ç»Ÿ
- ğŸ”Œ **æ‰©å±•æ€§å¼º**ï¼šæ˜“äºæ·»åŠ æ–°å·¥å…·å’ŒåŠŸèƒ½

---

## ğŸ“‹ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Console UI (Rich)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    ReAct Agent Core                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   Reasoning â”‚  â”‚   Tool Call â”‚  â”‚  State Managementâ”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Tool Manager                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ File Tools  â”‚  â”‚  Web Tools  â”‚  â”‚  System Tools    â”‚  ...â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
---
## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- [Python 3.8+](https://www.python.org/downloads/)
- [DeepSeek APIå¯†é’¥](https://platform.deepseek.com/api_keys)
- [Jina æœç´¢API](https://jina.ai/zh-CN/) (æœç´¢åŠŸèƒ½ï¼Œç”¨APIæœç´¢æ¯”Agentçˆ¬è™«æœç´¢èŠ‚çœTokenæ•°é‡)
- [QQé‚®ç®±æˆæƒç ](https://wx.mail.qq.com) (é‚®ä»¶åŠŸèƒ½)
ç™»å½•QQé‚®ç®±ç½‘é¡µç‰ˆ -> è®¾ç½® -> è´¦å·ä¸å®‰å…¨ -> å®‰å…¨è®¾ç½® è·å¾—IMAP/SMTPæˆæƒç 

### å®‰è£…æ­¥éª¤

1. **å®‰è£…ä¾èµ–**

```bash
pip install -r requirements.txt
```

2. **é…ç½®ç¯å¢ƒå˜é‡**
   å¤åˆ¶ `.env.template` ä¸º `.env` å¹¶å¡«å†™æ‚¨çš„APIå¯†é’¥ï¼š

```bash
cp .env.template .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```env
# DeepSeek APIé…ç½®
DEEPSEEK_API_KEY=your_deepseek_api_key_here
DEEPSEEK_BASE_URL=https://api.deepseek.com

# å¯é€‰ï¼šJina AI APIï¼ˆç”¨äºç½‘é¡µæœç´¢å’Œè¯»å–ï¼‰
JINA_API_TOKEN=your_jina_api_token_here

# å¯é€‰ï¼šQQé‚®ç®±é…ç½®ï¼ˆç”¨äºå‘é€é‚®ä»¶ï¼‰
QQ_EMAIL=your_qq_email@qq.com
QQ_EMAIL_AUTH_CODE=your_email_auth_code
```

3. **è¿è¡Œç³»ç»Ÿ**

```bash
python main.py
```
---
## ğŸ› ï¸ å·¥å…·é›†æ¦‚è§ˆ

### æ–‡ä»¶æ“ä½œå·¥å…·

- `create_file` / `read_file` / `delete_file` - æ–‡ä»¶åˆ›å»ºã€è¯»å–ã€åˆ é™¤
- `edit_file_by_replace` / `edit_file_by_line` - ç²¾ç¡®æ–‡ä»¶ç¼–è¾‘
- `check_file_diff` - æ–‡ä»¶å·®å¼‚æ£€æŸ¥
- `append_to_file` - æ–‡ä»¶å†…å®¹è¿½åŠ 
- `list_files` / `list_dir` - ç›®å½•åˆ—è¡¨
- `make_dir` / `delete_dir` - ç›®å½•æ“ä½œ

### ç³»ç»Ÿå·¥å…·

- `run_terminal_command` - æ‰§è¡Œç»ˆç«¯å‘½ä»¤
- `get_os_info` - è·å–ç³»ç»Ÿä¿¡æ¯
- `get_current_time` - è·å–å½“å‰æ—¶é—´
- `python_repl` - Pythonä»£ç æ‰§è¡Œç¯å¢ƒ

### ç½‘ç»œå·¥å…·

- `scrape_web_page` - ç½‘é¡µçˆ¬å–ï¼ˆè½¬æ¢ä¸ºMarkdownï¼‰
- `read_url_jina` - ä½¿ç”¨Jina AIè¯»å–ç½‘é¡µ
- `search_jina` - ç½‘ç»œæœç´¢
- `get_weather_with_temp` - å¤©æ°”é¢„æŠ¥æŸ¥è¯¢
- `send_email_via_qq` - QQé‚®ç®±é‚®ä»¶å‘é€

### è®¡ç®—å·¥å…·

- `calculator` - ç§‘å­¦è®¡ç®—å™¨
- `regex_search_in_file` - æ­£åˆ™è¡¨è¾¾å¼æœç´¢

### APIå·¥å…·

- `check_deepseek_balance` - DeepSeek APIä½™é¢æŸ¥è¯¢

### å¼€å‘å·¥å…·

- `get_source_code` - æŸ¥çœ‹å·¥å…·æºä»£ç 
- `upload_to_github` - Gitä¸Šä¼ åˆ°GitHub
---
## ğŸ® ä½¿ç”¨æŒ‡å—

### åŸºæœ¬äº¤äº’

å¯åŠ¨ç³»ç»Ÿåï¼Œæˆ‘å¯ä»¥ï¼š

1. æ¥æ”¶ç”¨æˆ·çš„é—®é¢˜æˆ–æŒ‡ä»¤
2. å±•ç¤ºæˆ‘çš„æ€è€ƒè¿‡ç¨‹ï¼ˆPlan â†’ Thought â†’ Actionï¼‰
3. è°ƒç”¨åˆé€‚çš„å·¥å…·å®Œæˆä»»åŠ¡
4. æä¾›æœ€ç»ˆç­”æ¡ˆ

### ç³»ç»Ÿå‘½ä»¤

- `quit` / `exit` - é€€å‡ºç³»ç»Ÿ
- `reset` - é‡ç½®å¯¹è¯å†å²
- `reload` - é‡æ–°åŠ è½½å†å²è®°å½•

### ç¤ºä¾‹ä¼šè¯

```
ç”¨æˆ·: è®¡ç®—åœ†çš„é¢ç§¯ï¼ŒåŠå¾„ä¸º5

[æˆ‘çš„æ€è€ƒè¿‡ç¨‹æ˜¾ç¤º]
Plan: è®¡ç®—åœ†é¢ç§¯å…¬å¼ Ï€rÂ²
Thought: ä½¿ç”¨calculatorå·¥å…·è®¡ç®—
Action: calculator
Args: {"expression": "pi * 5 ** 2"}
Observation: 78.53981633974483
Answer: åŠå¾„ä¸º5çš„åœ†é¢ç§¯çº¦ä¸º78.54
```

## ç¯å¢ƒå˜é‡
æ‰€æœ‰æ•æ„Ÿä¿¡æ¯éƒ½é€šè¿‡ `.env`ç®¡ç†ï¼Œç¡®ä¿å®‰å…¨æ€§ã€‚
---
## ğŸ“ é¡¹ç›®ç»“æ„

```
miniagent/
â”œâ”€â”€ main.py              # ç¨‹åºå…¥å£ç‚¹
â”œâ”€â”€ agent.py             # ReActä»£ç†æ ¸å¿ƒé€»è¾‘
â”œâ”€â”€ config.py            # é…ç½®ç®¡ç†
â”œâ”€â”€ interface.py         # ç”¨æˆ·ç•Œé¢ï¼ˆRichï¼‰
â”œâ”€â”€ tools.py             # å·¥å…·å‡½æ•°åº“ï¼ˆ20+å·¥å…·ï¼‰
â”œâ”€â”€ states.py            # çŠ¶æ€ç®¡ç†å’Œæ ‡ç­¾å®šä¹‰
â”œâ”€â”€ utils.py             # å·¥å…·ç±»å’Œè¾…åŠ©å‡½æ•°
â”œâ”€â”€ system_instructions.py # ç³»ç»Ÿæç¤ºè¯
â”œâ”€â”€ requirements.txt     # Pythonä¾èµ–
â”œâ”€â”€ .env.template        # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ logs/                # æ—¥å¿—ç›®å½•
â””â”€â”€ Agent_Storage/       # ä»£ç†ç”Ÿæˆæ–‡ä»¶å­˜å‚¨
```
---
## ğŸ”§ å¼€å‘ä¸æ‰©å±•

### æ·»åŠ æ–°å·¥å…·

1. åœ¨ `tools.py` ä¸­å®šä¹‰æ–°å‡½æ•°
2. ç¡®ä¿å‡½æ•°æœ‰æ¸…æ™°çš„æ–‡æ¡£å­—ç¬¦ä¸²

### å·¥å…·å‡½æ•°æ¨¡æ¿

```python
def your_new_tool(param1: str, param2: int) -> str:
    """
    å·¥å…·æè¿°
    å‚æ•°:
        param1: å‚æ•°1æè¿°
        param2: å‚æ•°2æè¿°
    è¿”å›:
        æ“ä½œç»“æœ
    ç”¨æ³•:
        your_new_tool(param1=<å€¼>, param2=<å€¼>)
    """
    # å·¥å…·å®ç°
    result = do_something(param1, param2)
    return f"ç»“æœ: {result}"
```

### ä¿®æ”¹ç³»ç»Ÿæç¤º

ç¼–è¾‘ `system_instructions.py` ä¸­çš„ `REACT_SYSTEM_PROMPT` æ¥è°ƒæ•´æˆ‘çš„è¡Œä¸ºã€‚
---
## ğŸ™ è‡´è°¢

- [DeepSeek](https://www.deepseek.com/) - æä¾›å¼ºå¤§çš„AI API
- [Rich](https://github.com/Textualize/rich) - ç¾ä¸½çš„ç»ˆç«¯æ–‡æœ¬æ ¼å¼åŒ–åº“
- [ReActæ¡†æ¶](https://react-lm.github.io/) - æ¨ç†-è¡ŒåŠ¨å¾ªç¯çš„çµæ„Ÿæ¥æº
---